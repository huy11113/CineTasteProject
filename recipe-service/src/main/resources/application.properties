spring.application.name=recipe-service

# Database Connection
spring.datasource.url=jdbc:postgresql://localhost:5432/cinetaste_db
spring.datasource.username=cinetaste_user
spring.datasource.password=test123

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true

server.port=8082

# JWT Settings
application.security.jwt.secret-key=${JWT_SECRET_KEY:404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970}
application.security.jwt.expiration=86400000

# AI Service URL (qua Gateway)
ai.service.base-url=http://localhost:8000/api/ai

# ============================================
# FLYWAY CONFIGURATION - CRITICAL FIX
# ============================================
# \u0110\u1EB7t t\u00EAn b\u1EA3ng l\u1ECBch s\u1EED Flyway ri\u00EAng cho recipe-service
spring.flyway.table=flyway_schema_history_recipe

# QUAN TR\u1ECCNG: T\u1EF1 \u0111\u1ED9ng t\u1EA1o baseline khi database \u0111\u00E3 c\u00F3 schema
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=0

# CH\u1EC8 D\u00D9NG TRONG DEVELOPMENT: B\u1ECF qua ki\u1EC3m tra checksum
spring.flyway.validate-on-migrate=false

# V\u1ECB tr\u00ED c\u00E1c file migration
spring.flyway.locations=classpath:db/migration

# TH\u00CAM N\u1EEEA: Cho ph\u00E9p mixed mode (ch\u1EA1y migration m\u1EDBi tr\u00EAn database \u0111\u00E3 t\u1ED3n t\u1EA1i)
spring.flyway.out-of-order=false